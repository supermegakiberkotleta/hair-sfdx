# Call Attempts Viewer Component

## –û–ø–∏—Å–∞–Ω–∏–µ
Lightning Web Component –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∑–≤–æ–Ω–∫–æ–≤ –∞–≤—Ç–æ–¥–æ–∑–≤–æ–Ω–∞ –≤ iframe. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–ø–∏—Å–∏ –æ–±—ä–µ–∫—Ç–∞ `Autodial_Campaign__c` –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–≤–æ–Ω–∫–∞—Ö –∫–∞–º–ø–∞–Ω–∏–∏.

## –§–∞–π–ª—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `callAttemptsViewer.js` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `callAttemptsViewer.html` - —à–∞–±–ª–æ–Ω —Ä–∞–∑–º–µ—Ç–∫–∏
- `callAttemptsViewer.css` - —Å—Ç–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `callAttemptsViewer.js-meta.xml` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
1. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ iframe** - –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ —Å –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∑–≤–æ–Ω–∫–æ–≤
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ ID** - –ø–µ—Ä–µ–¥–∞–µ—Ç ID —Ç–µ–∫—É—â–µ–π –∫–∞–º–ø–∞–Ω–∏–∏ –≤ URL
3. **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏–Ω–Ω–µ—Ä –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### URL —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
https://telephony.lenderpro.ai/autodial/call-attempts?id={recordId}
```

–ì–¥–µ `{recordId}` - —ç—Ç–æ ID —Ç–µ–∫—É—â–µ–π –∑–∞–ø–∏—Å–∏ –∫–∞–º–ø–∞–Ω–∏–∏ –∞–≤—Ç–æ–¥–æ–∑–≤–æ–Ω–∞.

#### –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–ó–∞–≥—Ä—É–∑–∫–∞** (`isLoading = true`) - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏–Ω–Ω–µ—Ä
- **–û—à–∏–±–∫–∞** (`error`) - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- **–£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** (`showIframe = true`) - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è iframe —Å –¥–∞–Ω–Ω—ã–º–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–ø–∏—Å–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ Lightning App Builder
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–ø–∏—Å–∏ `Autodial_Campaign__c`
3. –ù–∞–π–¥–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç "Call Attempts Viewer" –≤ —Å–ø–∏—Å–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –µ–≥–æ –≤ –Ω—É–∂–Ω—É—é –æ–±–ª–∞—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–ø–∏—Å–∏ –æ–±—ä–µ–∫—Ç–∞ `Autodial_Campaign__c`:

```xml
<targetConfigs>
    <targetConfig targets="lightning__RecordPage">
        <objects>
            <object>Autodial_Campaign__c</object>
        </objects>
    </targetConfig>
</targetConfigs>
```

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –∫–ª–∞—Å—Å—ã
- `.iframe-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä iframe (600px –≤—ã—Å–æ—Ç–∞)
- `.call-attempts-iframe` - —Å—Ç–∏–ª–∏ –¥–ª—è iframe (100% —à–∏—Ä–∏–Ω–∞ –∏ –≤—ã—Å–æ—Ç–∞, –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü)
- `.slds-text-color_error` - —Å—Ç–∏–ª–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã—Å–æ—Ç—ã
–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã iframe –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª–µ `callAttemptsViewer.css`:

```css
.iframe-container {
    height: 600px; /* –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ */
}
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### CSP (Content Security Policy)
–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã iframe –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–æ–º–µ–Ω `telephony.lenderpro.ai` –¥–æ–±–∞–≤–ª–µ–Ω –≤:
1. **Remote Site Settings** (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç `HairLenderProAI`)
2. **CSP Trusted Sites** (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

### Named Credentials
URL —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ (`https://telephony.lenderpro.ai`). 

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Named Credentials –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è URL, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –°–æ–∑–¥–∞—Ç—å Apex –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è URL –∏–∑ Named Credentials
2. –í—ã–∑–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è iframe src

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:
- –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ iframe (`onerror`)
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ recordId
- –û—à–∏–±–∫–∏ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ URL

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
üî¥ –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ø—ã—Ç–∫–∞—Ö –∑–≤–æ–Ω–∫–æ–≤
```

## –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∑–≤–æ–Ω–∫–æ–≤, –≤–∫–ª—é—á–∞—é—â—É—é:
- **Iteration** - –Ω–æ–º–µ—Ä –∏—Ç–µ—Ä–∞—Ü–∏–∏
- **From Number** - –Ω–æ–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- **To Number** - –Ω–æ–º–µ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- **Call SID** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–≤–æ–Ω–∫–∞
- **Status** - —Å—Ç–∞—Ç—É—Å (human, no_answer, failed)
- **Duration** - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- **Started At** - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- **Finished At** - –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è

## –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ iframe –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –≤–Ω–µ—à–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É).

## –í–µ—Ä—Å–∏—è API
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Salesforce API –≤–µ—Ä—Å–∏–∏ 62.0.

## –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
9 –æ–∫—Ç—è–±—Ä—è 2025


